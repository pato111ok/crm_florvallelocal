(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"6E4q":function(t,n,e){"use strict";e.r(n),e.d(n,"UnidadesModule",function(){return k});var i=e("ofXK"),c=e("tyNb"),r=e("PSD3"),o=e.n(r),a=e("LvDl"),b=e("fXoL"),l=e("TUT6"),s=e("1kSV"),d=e("3Pt+"),u=e("cZdB");function z(t,n){1&t&&(b.Rb(0,"td"),b.zc(1,"\n                  Activo\n                "),b.Qb())}function m(t,n){1&t&&(b.Rb(0,"td"),b.zc(1,"\n                  Inactivo\n                "),b.Qb())}function f(t,n){if(1&t){const t=b.Sb();b.Rb(0,"tr"),b.zc(1,"\n                "),b.Rb(2,"td"),b.zc(3),b.Qb(),b.zc(4,"\n                "),b.Rb(5,"td"),b.zc(6),b.Qb(),b.zc(7,"\n                "),b.xc(8,z,2,0,"td",22),b.zc(9,"\n                "),b.xc(10,m,2,0,"td",22),b.zc(11,"\n                "),b.Rb(12,"td"),b.zc(13,"\n                  "),b.Rb(14,"button",23),b.bc("click",function(){b.sc(t);const e=n.$implicit;return b.dc().eliminar(e)}),b.zc(15,"\n                    "),b.Nb(16,"i",24),b.zc(17,"\n                  "),b.Qb(),b.zc(18,"\n                  "),b.Rb(19,"button",25),b.bc("click",function(){b.sc(t);const e=n.$implicit,i=b.dc(),c=b.qc(86);return i.settingUser(c,e)}),b.zc(20,"\n                    "),b.Nb(21,"i",26),b.zc(22,"\n                  "),b.Qb(),b.zc(23,"\n                  "),b.Rb(24,"button",27),b.bc("click",function(){b.sc(t);const e=n.$implicit,i=b.dc(),c=b.qc(82);return i.verUsuario(c,e)}),b.zc(25,"\n                    "),b.Nb(26,"i",28),b.zc(27,"\n                  "),b.Qb(),b.zc(28,"\n                "),b.Qb(),b.zc(29,"\n              "),b.Qb()}if(2&t){const t=n.$implicit;b.zb(3),b.Bc("\n                  ",null==t?null:t.rut_origen,"\n                "),b.zb(3),b.Bc("\n                  ",null==t?null:t.rut_destino,"\n                "),b.zb(2),b.jc("ngIf",1==t.rut_estado),b.zb(2),b.jc("ngIf",-1==t.rut_estado)}}function g(t,n){1&t&&(b.Rb(0,"div",29),b.zc(1,"\n          "),b.Nb(2,"i",30),b.zc(3,"\n          "),b.Rb(4,"p"),b.zc(5," No hay resultados. "),b.Qb(),b.zc(6,"\n        "),b.Qb())}function h(t,n){1&t&&(b.Rb(0,"div"),b.zc(1,"\n        "),b.Rb(2,"h5",43),b.zc(3," Nueva Ruta "),b.Qb(),b.zc(4,"\n      "),b.Qb())}function p(t,n){1&t&&(b.Rb(0,"div"),b.zc(1,"\n        "),b.Rb(2,"h5",44),b.zc(3," Informaci\xf3n de la Ruta "),b.Qb(),b.zc(4,"\n      "),b.Qb())}function _(t,n){if(1&t){const t=b.Sb();b.Rb(0,"div",45),b.zc(1,"\n          "),b.Rb(2,"button",46),b.bc("click",function(){return b.sc(t),b.dc(2).guardar()}),b.zc(3,"\n            Guardar\n          "),b.Qb(),b.zc(4,"\n          "),b.Rb(5,"button",47),b.bc("click",function(){return b.sc(t),b.dc().$implicit.close()}),b.zc(6,"\n            Cancelar\n          "),b.Qb(),b.zc(7,"\n        "),b.Qb()}}function R(t,n){if(1&t){const t=b.Sb();b.Rb(0,"div",45),b.zc(1,"\n          "),b.Rb(2,"button",46),b.bc("click",function(){return b.sc(t),b.dc(2).actualizar()}),b.zc(3,"\n            Actualizar\n          "),b.Qb(),b.zc(4,"\n          "),b.zc(5,"\n        "),b.Qb()}}function Q(t,n){if(1&t&&(b.zc(0,"\n  "),b.Rb(1,"div",31),b.zc(2,"\n    "),b.Rb(3,"div",32),b.zc(4,"\n      "),b.xc(5,h,5,0,"div",22),b.zc(6,"\n      "),b.xc(7,p,5,0,"div",22),b.zc(8,"\n      "),b.Rb(9,"button",33),b.bc("click",function(){return n.$implicit.dismiss()}),b.zc(10,"\n        "),b.Rb(11,"span",34),b.zc(12,"\xd7"),b.Qb(),b.zc(13,"\n      "),b.Qb(),b.zc(14,"\n    "),b.Qb(),b.zc(15,"\n    "),b.Rb(16,"div",35),b.zc(17,"\n      "),b.Rb(18,"form",36),b.zc(19,"\n        "),b.Rb(20,"div",37),b.zc(21,"\n          "),b.Rb(22,"label",38),b.zc(23," Origen "),b.Qb(),b.zc(24,"\n          "),b.Nb(25,"input",39),b.zc(26,"\n        "),b.Qb(),b.zc(27,"\n        "),b.Rb(28,"div",37),b.zc(29,"\n          "),b.Rb(30,"label",40),b.zc(31," Destino "),b.Qb(),b.zc(32,"\n          "),b.Nb(33,"input",41),b.zc(34,"\n        "),b.Qb(),b.zc(35,"\n\n        "),b.xc(36,_,8,0,"div",42),b.zc(37,"\n        "),b.xc(38,R,6,0,"div",42),b.zc(39,"\n      "),b.Qb(),b.zc(40,"\n    "),b.Qb(),b.zc(41,"\n  "),b.Qb(),b.zc(42,"\n")),2&t){const t=b.dc();b.zb(5),b.jc("ngIf",!t.editable),b.zb(2),b.jc("ngIf",t.editable),b.zb(11),b.jc("formGroup",t.edit_form),b.zb(18),b.jc("ngIf",!t.editable),b.zb(2),b.jc("ngIf",t.editable)}}function v(t,n){if(1&t){const t=b.Sb();b.zc(0,"\n\n  "),b.Rb(1,"div",31),b.zc(2,"\n    "),b.Rb(3,"div",32),b.zc(4,"\n      "),b.Rb(5,"div",45),b.zc(6,"\n        "),b.Rb(7,"h5",48),b.zc(8," Configuraci\xf3n de ruta "),b.Rb(9,"b"),b.zc(10),b.Qb(),b.zc(11,"  "),b.Qb(),b.zc(12,"\n        \n      "),b.Qb(),b.zc(13,"\n      "),b.Rb(14,"button",49),b.bc("click",function(){return n.$implicit.dismiss()}),b.zc(15,"\n        "),b.Rb(16,"span",34),b.zc(17,"\xd7"),b.Qb(),b.zc(18,"\n      "),b.Qb(),b.zc(19,"\n    "),b.Qb(),b.zc(20,"\n    "),b.Rb(21,"div",35),b.zc(22,"\n      "),b.Rb(23,"form",36),b.zc(24,"\n        "),b.Rb(25,"div",37),b.zc(26,"\n          "),b.Rb(27,"label",50),b.zc(28," Desactivar Ruta "),b.Qb(),b.zc(29,"\n          "),b.Rb(30,"select",51),b.zc(31,"\n            "),b.Rb(32,"option",52),b.zc(33," Seleccione opcion "),b.Qb(),b.zc(34,"\n            "),b.Rb(35,"option",53),b.zc(36," Activo "),b.Qb(),b.zc(37,"\n            "),b.Rb(38,"option",54),b.zc(39," Inactivo "),b.Qb(),b.zc(40,"\n          "),b.Qb(),b.zc(41,"\n        "),b.Qb(),b.zc(42,"\n        "),b.Rb(43,"div",45),b.zc(44,"\n          "),b.Rb(45,"button",46),b.bc("click",function(){return b.sc(t),b.dc().actualizar()}),b.zc(46,"\n            Guardar\n          "),b.Qb(),b.zc(47,"\n          "),b.Rb(48,"button",47),b.bc("click",function(){return n.$implicit.close()}),b.zc(49,"\n            Cancelar\n          "),b.Qb(),b.zc(50,"\n        "),b.Qb(),b.zc(51,"\n        "),b.Qb(),b.zc(52,"\n    "),b.Qb(),b.zc(53,"\n  "),b.Qb(),b.zc(54,"\n\n\n")}if(2&t){const t=b.dc();b.zb(10),b.Cc(" ( ",t.edit_recurso.rut_origen," - ",t.edit_recurso.rut_destino," ) "),b.zb(13),b.jc("formGroup",t.edit_form)}}const x=[{path:"p",component:(()=>{class t{constructor(t,n,e){this.apiService=t,this.modalService=n,this.formBuilder=e,this.rutas=[],this.editable=!1,this.ruta={rut_id:"",rut_origen:"",rut_destino:"",rut_estado:0},this.edit_form=this.formBuilder.group({rut_id:[""],rut_origen:[""],rut_destino:[""],rut_estado:[""]})}ngOnInit(){this.get_perfiles()}get_perfiles(){this.apiService.getFullData("ruta/all").then(t=>{this.rutas=t.data})}get_fil_act(){this.apiService.getFullData("ruta/active").then(t=>{this.rutas=t.data})}get_fil_ina(){this.apiService.getFullData("ruta/inactive").then(t=>{this.rutas=t.data})}openMediumModal(t){this.editable=!1,this.ruta={rut_id:"",rut_origen:"",rut_destino:"",rut_estado:0},this.modal=this.modalService.open(t,{size:"md"})}verUsuario(t,n){this.edit_form.get("rut_id").setValue(n.rut_id),this.edit_form.get("rut_origen").setValue(n.rut_origen),this.edit_form.get("rut_destino").setValue(n.rut_destino),this.edit_form.get("rut_estado").setValue(n.rut_estado),this.editable=!0,this.modal=this.modalService.open(t)}settingUser(t,n){this.edit_form.get("rut_id").setValue(n.rut_id),this.edit_form.get("rut_origen").setValue(n.rut_origen),this.edit_form.get("rut_destino").setValue(n.rut_destino),this.edit_form.get("rut_estado").setValue(n.rut_estado),this.edit_recurso=n,this.modal=this.modalService.open(t)}actualizar(){this.edit_form.get("rut_estado").setValue(parseInt(this.edit_form.get("rut_estado").value.toString())),this.apiService.actualizar("ruta/edit/"+this.edit_form.get("rut_id").value,this.edit_form.value).then(t=>{if(t.msg){const n=a.findIndex(this.rutas,n=>n.rut_id===t.data.rut_id);-1!==n&&(this.rutas[n]=t.data),this.modal.close(),o.a.fire({icon:"success",title:"Transacci\xf3n exitosa!",text:"",showConfirmButton:!1,timer:2e3})}else o.a.fire({icon:"error",title:"Transacci\xf3n fallida!",text:t.error,showConfirmButton:!1,timer:3e3})},t=>{console.log(t,"hubo error")})}eliminar(t){o.a.fire({title:"Seguro eliminar la Ruta?",text:"Eliminar la ruta",icon:"warning",showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonColor:"#3085d6",confirmButtonText:"Si, eliminar!"}).then(n=>{n.isConfirmed?this.apiService.delete("ruta/delete",t.rut_id).then(n=>{n.msg?(a.remove(this.rutas,function(n){return n.rut_id===t.rut_id}),o.a.fire({icon:"success",title:"Transacci\xf3n exitosa!",text:"",showConfirmButton:!1,timer:2e3})):o.a.fire({icon:"error",title:"Transacci\xf3n fallida!",text:n.error,showConfirmButton:!1,timer:3e3})},t=>{console.log(t,"Error")}):o.a.fire("Confirmado","No se elimino la ruta","error")})}guardar(){this.apiService.crear("ruta/create",this.edit_form.value).then(t=>{t.msg?(this.rutas.push(t.data),this.modal.close(),o.a.fire({icon:"success",title:"Transacci\xf3n exitosa!",text:"",showConfirmButton:!1,timer:2e3})):o.a.fire({icon:"error",title:"Transacci\xf3n fallida!",text:t.error,showConfirmButton:!1,timer:3e3})},t=>{console.log(t,"Error")})}}return t.\u0275fac=function(n){return new(n||t)(b.Mb(l.a),b.Mb(s.e),b.Mb(d.b))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-rutas"]],decls:88,vars:6,consts:[[1,"page-header"],[1,"page-title"],["id","button","type","button","title","Modify user",1,"btn","btn-light","btn-sm",3,"click"],[1,"mdi","mdi-filter","ml-1"],[1,"row"],[1,"col-lg-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"search"],["type","text","placeholder","\xbfQu\xe9 esta buscando?",1,"searchTerm",3,"ngModel","ngModelChange"],["id","button","type","button",1,"btn","btn-info","btn-sm",3,"click"],[1,"mdi","mdi-map","ml-1"],[1,"table-responsive"],[1,"table","table-striped"],[2,"font-weight","bold"],[2,"text-align","center","font-weight","bold"],[4,"ngFor","ngForOf"],["class","text-center p-5",4,"ngIf"],["class","modal fade modal-sm","id","exampleModal-2","aria-labelledby","exampleModalLabel-2"],["mediumModalContent",""],["class","modal fade","id","exampleModal-2","aria-labelledby","exampleModalLabel-2"],["settingModal",""],[4,"ngIf"],["id","button","type","button","title","Setting user",1,"btn","btn-danger","btn-sm",3,"click"],[1,"mdi","mdi-delete","ml-1"],["id","button","type","button","title","Setting user",1,"btn","btn-dark","btn-sm",3,"click"],[1,"mdi","mdi-settings","ml-1"],["id","button","type","button","title","Modify user",1,"btn","btn-warning","btn-sm",3,"click"],[1,"mdi","mdi-pencil","ml-1"],[1,"text-center","p-5"],[1,"mdi","mdi-layers-off",2,"font-size","2em"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","mr-1",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"forms-sample",3,"formGroup"],[1,"form-group"],["for","exampleInputUsername1"],["type","text","name","origen","id","InputOrigen","placeholder","Origen ruta","formControlName","rut_origen",1,"form-control"],["for","exampleInputEmail1"],["type","text","name","destino","id","InputDestino","placeholder","Destino ruta","formControlName","rut_destino",1,"form-control"],["class","text-center",4,"ngIf"],[1,"modal-title","text-bold"],[1,"modal-title"],[1,"text-center"],["type","",1,"btn","btn-gradient-success","mr-2",3,"click"],[1,"btn","btn-gradient-danger",3,"click"],["id","exampleModalLabel-2",1,"modal-title"],["type","button","aria-label","Close",1,"close","mr-1","share",3,"click"],["for","active"],["formControlName","rut_estado","name","estado",1,"form-control"],["value","","disabled",""],["value","1"],["value","-1"]],template:function(t,n){if(1&t){const t=b.Sb();b.Rb(0,"div",0),b.zc(1,"\n  "),b.Rb(2,"h3",1),b.zc(3,"\n    Lista de Rutas\n  "),b.Qb(),b.zc(4,"\n  \n  "),b.Rb(5,"button",2),b.bc("click",function(){return n.get_perfiles()}),b.zc(6,"\n  "),b.Rb(7,"i",3),b.zc(8,"Todas"),b.Qb(),b.zc(9,"\n"),b.Qb(),b.zc(10,"\n  \n  "),b.Rb(11,"button",2),b.bc("click",function(){return n.get_fil_act()}),b.zc(12,"\n  "),b.Rb(13,"i",3),b.zc(14,"Activas"),b.Qb(),b.zc(15,"\n"),b.Qb(),b.zc(16,"\n\n"),b.Rb(17,"button",2),b.bc("click",function(){return n.get_fil_ina()}),b.zc(18,"\n  "),b.Rb(19,"i",3),b.zc(20,"Inactivas"),b.Qb(),b.zc(21,"\n"),b.Qb(),b.zc(22,"\n\n  "),b.zc(23,"\n"),b.Qb(),b.zc(24,"\n"),b.Rb(25,"div",4),b.zc(26,"\n  "),b.Rb(27,"div",5),b.zc(28,"\n    "),b.Rb(29,"div",6),b.zc(30,"\n      "),b.Rb(31,"div",7),b.zc(32,"\n        "),b.zc(33,"\n\n        "),b.Rb(34,"div",8),b.zc(35,"\n          "),b.Rb(36,"input",9),b.bc("ngModelChange",function(t){return n.term=t}),b.Qb(),b.zc(37,"\n        "),b.Qb(),b.zc(38,"\n\n        "),b.Rb(39,"button",10),b.bc("click",function(){b.sc(t);const e=b.qc(82);return n.openMediumModal(e)}),b.zc(40,"\n          Nueva "),b.Nb(41,"i",11),b.zc(42,"\n        "),b.Qb(),b.zc(43,"\n        "),b.Rb(44,"div",12),b.zc(45,"\n          "),b.Rb(46,"table",13),b.zc(47,"\n            "),b.Rb(48,"thead"),b.zc(49,"\n              "),b.Rb(50,"tr"),b.zc(51,"\n                "),b.Rb(52,"th",14),b.zc(53,"\n                  Origen\n                "),b.Qb(),b.zc(54,"\n                "),b.Rb(55,"th",14),b.zc(56,"\n                  Destino\n                "),b.Qb(),b.zc(57,"\n                "),b.Rb(58,"th",14),b.zc(59,"\n                  Estado\n                "),b.Qb(),b.zc(60,"\n                "),b.Rb(61,"th",15),b.zc(62,"\n                  Acciones\n                "),b.Qb(),b.zc(63,"\n              "),b.Qb(),b.zc(64,"\n            "),b.Qb(),b.zc(65,"\n            "),b.Rb(66,"tbody"),b.zc(67,"\n              "),b.xc(68,f,30,4,"tr",16),b.ec(69,"filter"),b.zc(70,"\n            "),b.Qb(),b.zc(71,"\n          "),b.Qb(),b.zc(72,"\n        "),b.Qb(),b.zc(73,"\n        "),b.xc(74,g,7,0,"div",17),b.zc(75,"\n      "),b.Qb(),b.zc(76,"\n    "),b.Qb(),b.zc(77,"\n  "),b.Qb(),b.zc(78,"\n"),b.Qb(),b.zc(79,"\n\n"),b.zc(80,"\n"),b.xc(81,Q,43,5,"ng-template",18,19,b.yc),b.zc(83,"\n\n\n"),b.zc(84,"\n"),b.xc(85,v,55,3,"ng-template",20,21,b.yc),b.zc(87,"\n")}2&t&&(b.zb(36),b.jc("ngModel",n.term),b.zb(32),b.jc("ngForOf",b.fc(69,3,n.rutas,n.term)),b.zb(6),b.jc("ngIf",!n.rutas||0===n.rutas.length))},directives:[d.a,d.i,d.l,i.k,i.l,d.r,d.j,d.d,d.c,d.p,d.m,d.s],pipes:[u.a],styles:["#button[_ngcontent-%COMP%]{float:right}#button[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{display:flex}.mdi-checkbox-blank-circle[_ngcontent-%COMP%]{color:green}image[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.contenedorImagen[_ngcontent-%COMP%]{width:15em;height:15em;margin:auto;border-radius:50%;overflow:hidden}"]}),t})()}];let k=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({imports:[[i.b,d.e,c.g.forChild(x),d.o,u.b]]}),t})()}}]);