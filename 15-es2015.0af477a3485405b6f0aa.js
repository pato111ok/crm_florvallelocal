(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"Bm/3":function(n,t,i){"use strict";i.r(t),i.d(t,"UnidadesModule",function(){return k});var c=i("ofXK"),e=i("tyNb"),o=i("PSD3"),a=i.n(o),d=i("LvDl"),r=i("fXoL"),b=i("TUT6"),l=i("1kSV"),s=i("3Pt+"),u=i("cZdB");function z(n,t){1&n&&(r.Rb(0,"td"),r.zc(1,"\n                  Activo\n                "),r.Qb())}function m(n,t){1&n&&(r.Rb(0,"td"),r.zc(1,"\n                  Inactivo\n                "),r.Qb())}function f(n,t){if(1&n){const n=r.Sb();r.Rb(0,"tr"),r.zc(1,"\n                "),r.Rb(2,"td"),r.zc(3),r.Qb(),r.zc(4,"\n                "),r.Rb(5,"td"),r.zc(6),r.Qb(),r.zc(7,"\n                "),r.xc(8,z,2,0,"td",22),r.zc(9,"\n                "),r.xc(10,m,2,0,"td",22),r.zc(11,"\n                "),r.Rb(12,"td"),r.zc(13,"\n                  "),r.Rb(14,"button",23),r.bc("click",function(){r.sc(n);const i=t.$implicit;return r.dc().eliminar(i)}),r.zc(15,"\n                    "),r.Nb(16,"i",24),r.zc(17,"\n                  "),r.Qb(),r.zc(18,"\n                  "),r.Rb(19,"button",25),r.bc("click",function(){r.sc(n);const i=t.$implicit,c=r.dc(),e=r.qc(86);return c.settingUser(e,i)}),r.zc(20,"\n                    "),r.Nb(21,"i",26),r.zc(22,"\n                  "),r.Qb(),r.zc(23,"\n                  "),r.Rb(24,"button",27),r.bc("click",function(){r.sc(n);const i=t.$implicit,c=r.dc(),e=r.qc(82);return c.verUsuario(e,i)}),r.zc(25,"\n                    "),r.Nb(26,"i",28),r.zc(27,"\n                  "),r.Qb(),r.zc(28,"\n                "),r.Qb(),r.zc(29,"\n              "),r.Qb()}if(2&n){const n=t.$implicit;r.zb(3),r.Bc("\n                  ",null==n?null:n.uni_num_disco,"\n                "),r.zb(3),r.Bc("\n                  ",null==n?null:n.uni_placa,"\n                "),r.zb(2),r.jc("ngIf",1==n.uni_estado),r.zb(2),r.jc("ngIf",-1==n.uni_estado)}}function p(n,t){1&n&&(r.Rb(0,"div",29),r.zc(1,"\n          "),r.Nb(2,"i",30),r.zc(3,"\n          "),r.Rb(4,"p"),r.zc(5," No hay resultados. "),r.Qb(),r.zc(6,"\n        "),r.Qb())}function h(n,t){1&n&&(r.Rb(0,"div"),r.zc(1,"\n        "),r.Rb(2,"h5",43),r.zc(3," Nueva Unidad "),r.Qb(),r.zc(4,"\n      "),r.Qb())}function g(n,t){1&n&&(r.Rb(0,"div"),r.zc(1,"\n        "),r.Rb(2,"h5",44),r.zc(3," Informaci\xf3n de la Unidad "),r.Qb(),r.zc(4,"\n      "),r.Qb())}function _(n,t){if(1&n){const n=r.Sb();r.Rb(0,"div",45),r.zc(1,"\n          "),r.Rb(2,"button",46),r.bc("click",function(){return r.sc(n),r.dc(2).guardar()}),r.zc(3,"\n            Guardar\n          "),r.Qb(),r.zc(4,"\n          "),r.Rb(5,"button",47),r.bc("click",function(){return r.sc(n),r.dc().$implicit.close()}),r.zc(6,"\n            Cancelar\n          "),r.Qb(),r.zc(7,"\n        "),r.Qb()}}function Q(n,t){if(1&n){const n=r.Sb();r.Rb(0,"div",45),r.zc(1,"\n          "),r.Rb(2,"button",46),r.bc("click",function(){return r.sc(n),r.dc(2).actualizar()}),r.zc(3,"\n            Actualizar\n          "),r.Qb(),r.zc(4,"\n          "),r.zc(5,"\n        "),r.Qb()}}function R(n,t){if(1&n&&(r.zc(0,"\n  "),r.Rb(1,"div",31),r.zc(2,"\n    "),r.Rb(3,"div",32),r.zc(4,"\n      "),r.xc(5,h,5,0,"div",22),r.zc(6,"\n      "),r.xc(7,g,5,0,"div",22),r.zc(8,"\n      "),r.Rb(9,"button",33),r.bc("click",function(){return t.$implicit.dismiss()}),r.zc(10,"\n        "),r.Rb(11,"span",34),r.zc(12,"\xd7"),r.Qb(),r.zc(13,"\n      "),r.Qb(),r.zc(14,"\n    "),r.Qb(),r.zc(15,"\n    "),r.Rb(16,"div",35),r.zc(17,"\n      "),r.Rb(18,"form",36),r.zc(19,"\n        "),r.Rb(20,"div",37),r.zc(21,"\n          "),r.Rb(22,"label",38),r.zc(23," Numero Disco "),r.Qb(),r.zc(24,"\n          "),r.Nb(25,"input",39),r.zc(26,"\n        "),r.Qb(),r.zc(27,"\n        "),r.Rb(28,"div",37),r.zc(29,"\n          "),r.Rb(30,"label",40),r.zc(31," Placa "),r.Qb(),r.zc(32,"\n          "),r.Nb(33,"input",41),r.zc(34,"\n        "),r.Qb(),r.zc(35,"\n\n        "),r.xc(36,_,8,0,"div",42),r.zc(37,"\n        "),r.xc(38,Q,6,0,"div",42),r.zc(39,"\n      "),r.Qb(),r.zc(40,"\n    "),r.Qb(),r.zc(41,"\n  "),r.Qb(),r.zc(42,"\n")),2&n){const n=r.dc();r.zb(5),r.jc("ngIf",!n.editable),r.zb(2),r.jc("ngIf",n.editable),r.zb(11),r.jc("formGroup",n.edit_form),r.zb(18),r.jc("ngIf",!n.editable),r.zb(2),r.jc("ngIf",n.editable)}}function v(n,t){if(1&n){const n=r.Sb();r.zc(0,"\n\n  "),r.Rb(1,"div",31),r.zc(2,"\n    "),r.Rb(3,"div",32),r.zc(4,"\n      "),r.Rb(5,"div",45),r.zc(6,"\n        "),r.Rb(7,"h5",48),r.zc(8," Configuraci\xf3n de unidad "),r.Rb(9,"b"),r.zc(10),r.Qb(),r.zc(11,"  "),r.Qb(),r.zc(12,"\n        \n      "),r.Qb(),r.zc(13,"\n      "),r.Rb(14,"button",49),r.bc("click",function(){return t.$implicit.dismiss()}),r.zc(15,"\n        "),r.Rb(16,"span",34),r.zc(17,"\xd7"),r.Qb(),r.zc(18,"\n      "),r.Qb(),r.zc(19,"\n    "),r.Qb(),r.zc(20,"\n    "),r.Rb(21,"div",35),r.zc(22,"\n      "),r.Rb(23,"form",36),r.zc(24,"\n        "),r.Rb(25,"div",37),r.zc(26,"\n          "),r.Rb(27,"label",50),r.zc(28," Desactivar Unidad "),r.Qb(),r.zc(29,"\n          "),r.Rb(30,"select",51),r.zc(31,"\n            "),r.Rb(32,"option",52),r.zc(33," Seleccione opcion "),r.Qb(),r.zc(34,"\n            "),r.Rb(35,"option",53),r.zc(36," Activo "),r.Qb(),r.zc(37,"\n            "),r.Rb(38,"option",54),r.zc(39," Inactivo "),r.Qb(),r.zc(40,"\n          "),r.Qb(),r.zc(41,"\n        "),r.Qb(),r.zc(42,"\n        "),r.Rb(43,"div",45),r.zc(44,"\n          "),r.Rb(45,"button",46),r.bc("click",function(){return r.sc(n),r.dc().actualizar()}),r.zc(46,"\n            Guardar\n          "),r.Qb(),r.zc(47,"\n          "),r.Rb(48,"button",47),r.bc("click",function(){return t.$implicit.close()}),r.zc(49,"\n            Cancelar\n          "),r.Qb(),r.zc(50,"\n        "),r.Qb(),r.zc(51,"\n        "),r.Qb(),r.zc(52,"\n    "),r.Qb(),r.zc(53,"\n  "),r.Qb(),r.zc(54,"\n\n\n")}if(2&n){const n=r.dc();r.zb(10),r.Bc(" ( ",n.edit_recurso.uni_num_disco," ) "),r.zb(13),r.jc("formGroup",n.edit_form)}}const x=[{path:"p",component:(()=>{class n{constructor(n,t,i){this.apiService=n,this.modalService=t,this.formBuilder=i,this.unidades=[],this.editable=!1,this.unidad={uni_id:"",uni_num_disco:"",uni_placa:"",uni_estado:0},this.edit_form=this.formBuilder.group({uni_id:[""],uni_num_disco:[""],uni_placa:[""],uni_estado:[""]})}ngOnInit(){this.get_perfiles()}get_perfiles(){this.apiService.getFullData("unidad/all").then(n=>{this.unidades=n.data})}get_fil_act(){this.apiService.getFullData("unidad/active").then(n=>{this.unidades=n.data})}get_fil_ina(){this.apiService.getFullData("unidad/inactive").then(n=>{this.unidades=n.data})}openMediumModal(n){this.editable=!1,this.unidad={uni_id:"",uni_num_disco:"",uni_placa:"",uni_estado:0},this.edit_form.reset(),this.modal=this.modalService.open(n,{size:"md"})}verUsuario(n,t){this.edit_form.get("uni_id").setValue(t.uni_id),this.edit_form.get("uni_num_disco").setValue(t.uni_num_disco),this.edit_form.get("uni_placa").setValue(t.uni_placa),this.edit_form.get("uni_estado").setValue(t.uni_estado),this.editable=!0,this.modal=this.modalService.open(n)}settingUser(n,t){this.edit_form.get("uni_id").setValue(t.uni_id),this.edit_form.get("uni_num_disco").setValue(t.uni_num_disco),this.edit_form.get("uni_placa").setValue(t.uni_placa),this.edit_form.get("uni_estado").setValue(t.uni_estado),this.edit_recurso=t,this.modal=this.modalService.open(n)}actualizar(){this.edit_form.get("uni_estado").setValue(parseInt(this.edit_form.get("uni_estado").value.toString())),this.apiService.actualizar("unidad/edit/"+this.edit_form.get("uni_id").value,this.edit_form.value).then(n=>{if(n.msg){const t=d.findIndex(this.unidades,t=>t.uni_id===n.data.uni_id);-1!==t&&(this.unidades[t]=n.data),this.modal.close(),a.a.fire({icon:"success",title:"Transacci\xf3n exitosa!",text:"",showConfirmButton:!1,timer:2e3})}else a.a.fire({icon:"error",title:"Transacci\xf3n fallida!",text:n.error,showConfirmButton:!1,timer:3e3})},n=>{console.log(n,"hubo error")})}eliminar(n){a.a.fire({title:"Seguro eliminar Unidad?",text:"Eliminar la unidad",icon:"warning",showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonColor:"#3085d6",confirmButtonText:"Si, eliminar!"}).then(t=>{t.isConfirmed?this.apiService.delete("unidad/delete",n.uni_id).then(t=>{t.msg?(d.remove(this.unidades,function(t){return t.uni_id===n.uni_id}),a.a.fire({icon:"success",title:"Transacci\xf3n exitosa!",text:"",showConfirmButton:!1,timer:2e3})):a.a.fire({icon:"error",title:"Transacci\xf3n fallida!",text:t.error,showConfirmButton:!1,timer:3e3})},n=>{console.log(n,"Error")}):a.a.fire("Confirmado","No se elimino la unidad","error")})}guardar(){this.apiService.crear("unidad/create",this.edit_form.value).then(n=>{n.msg?(this.unidades.push(n.data),this.modal.close(),a.a.fire({icon:"success",title:"Transacci\xf3n exitosa!",text:"",showConfirmButton:!1,timer:2e3})):a.a.fire({icon:"error",title:"Transacci\xf3n fallida!",text:n.error,showConfirmButton:!1,timer:3e3})},n=>{console.log(n,"Error")})}}return n.\u0275fac=function(t){return new(t||n)(r.Mb(b.a),r.Mb(l.e),r.Mb(s.b))},n.\u0275cmp=r.Gb({type:n,selectors:[["app-unidades"]],decls:88,vars:6,consts:[[1,"page-header"],[1,"page-title"],["id","button","type","button","title","Modify user",1,"btn","btn-light","btn-sm",3,"click"],[1,"mdi","mdi-filter","ml-1"],[1,"row"],[1,"col-lg-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"search"],["type","text","placeholder","\xbfQu\xe9 esta buscando?",1,"searchTerm",3,"ngModel","ngModelChange"],["id","button","type","button",1,"btn","btn-info","btn-sm",3,"click"],[1,"mdi","mdi-bus-side","ml-1"],[1,"table-responsive"],[1,"table","table-striped"],[2,"font-weight","bold"],[2,"text-align","center","font-weight","bold"],[4,"ngFor","ngForOf"],["class","text-center p-5",4,"ngIf"],["class","modal fade modal-sm","id","exampleModal-2","aria-labelledby","exampleModalLabel-2"],["mediumModalContent",""],["class","modal fade","id","exampleModal-2","aria-labelledby","exampleModalLabel-2"],["settingModal",""],[4,"ngIf"],["id","button","type","button","title","Setting user",1,"btn","btn-danger","btn-sm",3,"click"],[1,"mdi","mdi-delete","ml-1"],["id","button","type","button","title","Setting user",1,"btn","btn-dark","btn-sm",3,"click"],[1,"mdi","mdi-settings","ml-1"],["id","button","type","button","title","Modify user",1,"btn","btn-warning","btn-sm",3,"click"],[1,"mdi","mdi-pencil","ml-1"],[1,"text-center","p-5"],[1,"mdi","mdi-layers-off",2,"font-size","2em"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","mr-1",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"forms-sample",3,"formGroup"],[1,"form-group"],["for","exampleInputUsername1"],["type","number","name","nombre","id","InputNumDisco","placeholder","Numero disco","formControlName","uni_num_disco",1,"form-control"],["for","exampleInputEmail1"],["type","text","name","descripcion","id","InputPlaca","placeholder","Placa","formControlName","uni_placa",1,"form-control"],["class","text-center",4,"ngIf"],[1,"modal-title","text-bold"],[1,"modal-title"],[1,"text-center"],["type","",1,"btn","btn-gradient-success","mr-2",3,"click"],[1,"btn","btn-gradient-danger",3,"click"],["id","exampleModalLabel-2",1,"modal-title"],["type","button","aria-label","Close",1,"close","mr-1","share",3,"click"],["for","active"],["formControlName","uni_estado","name","estado",1,"form-control"],["value","","disabled",""],["value","1"],["value","-1"]],template:function(n,t){if(1&n){const n=r.Sb();r.Rb(0,"div",0),r.zc(1,"\n  "),r.Rb(2,"h3",1),r.zc(3,"\n    Lista de Unidades\n  "),r.Qb(),r.zc(4,"\n  \n  "),r.Rb(5,"button",2),r.bc("click",function(){return t.get_perfiles()}),r.zc(6,"\n  "),r.Rb(7,"i",3),r.zc(8,"Todos"),r.Qb(),r.zc(9,"\n"),r.Qb(),r.zc(10,"\n  \n  "),r.Rb(11,"button",2),r.bc("click",function(){return t.get_fil_act()}),r.zc(12,"\n  "),r.Rb(13,"i",3),r.zc(14,"Activo"),r.Qb(),r.zc(15,"\n"),r.Qb(),r.zc(16,"\n\n"),r.Rb(17,"button",2),r.bc("click",function(){return t.get_fil_ina()}),r.zc(18,"\n  "),r.Rb(19,"i",3),r.zc(20,"Inactivo"),r.Qb(),r.zc(21,"\n"),r.Qb(),r.zc(22,"\n\n  "),r.zc(23,"\n"),r.Qb(),r.zc(24,"\n"),r.Rb(25,"div",4),r.zc(26,"\n  "),r.Rb(27,"div",5),r.zc(28,"\n    "),r.Rb(29,"div",6),r.zc(30,"\n      "),r.Rb(31,"div",7),r.zc(32,"\n        "),r.zc(33,"\n\n        "),r.Rb(34,"div",8),r.zc(35,"\n          "),r.Rb(36,"input",9),r.bc("ngModelChange",function(n){return t.term=n}),r.Qb(),r.zc(37,"\n        "),r.Qb(),r.zc(38,"\n\n        "),r.Rb(39,"button",10),r.bc("click",function(){r.sc(n);const i=r.qc(82);return t.openMediumModal(i)}),r.zc(40,"\n          Nuevo "),r.Nb(41,"i",11),r.zc(42,"\n        "),r.Qb(),r.zc(43,"\n        "),r.Rb(44,"div",12),r.zc(45,"\n          "),r.Rb(46,"table",13),r.zc(47,"\n            "),r.Rb(48,"thead"),r.zc(49,"\n              "),r.Rb(50,"tr"),r.zc(51,"\n                "),r.Rb(52,"th",14),r.zc(53,"\n                  Numero Disco\n                "),r.Qb(),r.zc(54,"\n                "),r.Rb(55,"th",14),r.zc(56,"\n                  Placa\n                "),r.Qb(),r.zc(57,"\n                "),r.Rb(58,"th",14),r.zc(59,"\n                  Estado\n                "),r.Qb(),r.zc(60,"\n                "),r.Rb(61,"th",15),r.zc(62,"\n                  Acciones\n                "),r.Qb(),r.zc(63,"\n              "),r.Qb(),r.zc(64,"\n            "),r.Qb(),r.zc(65,"\n            "),r.Rb(66,"tbody"),r.zc(67,"\n              "),r.xc(68,f,30,4,"tr",16),r.ec(69,"filter"),r.zc(70,"\n            "),r.Qb(),r.zc(71,"\n          "),r.Qb(),r.zc(72,"\n        "),r.Qb(),r.zc(73,"\n        "),r.xc(74,p,7,0,"div",17),r.zc(75,"\n      "),r.Qb(),r.zc(76,"\n    "),r.Qb(),r.zc(77,"\n  "),r.Qb(),r.zc(78,"\n"),r.Qb(),r.zc(79,"\n\n"),r.zc(80,"\n"),r.xc(81,R,43,5,"ng-template",18,19,r.yc),r.zc(83,"\n\n\n"),r.zc(84,"\n"),r.xc(85,v,55,2,"ng-template",20,21,r.yc),r.zc(87,"\n")}2&n&&(r.zb(36),r.jc("ngModel",t.term),r.zb(32),r.jc("ngForOf",r.fc(69,3,t.unidades,t.term)),r.zb(6),r.jc("ngIf",!t.unidades||0===t.unidades.length))},directives:[s.a,s.i,s.l,c.k,c.l,s.r,s.j,s.d,s.n,s.c,s.p,s.m,s.s],pipes:[u.a],styles:["#button[_ngcontent-%COMP%]{float:right}#button[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{display:flex}.mdi-checkbox-blank-circle[_ngcontent-%COMP%]{color:green}image[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.contenedorImagen[_ngcontent-%COMP%]{width:15em;height:15em;margin:auto;border-radius:50%;overflow:hidden}"]}),n})()}];let k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.Kb({type:n}),n.\u0275inj=r.Jb({imports:[[c.b,s.e,e.g.forChild(x),s.o,u.b]]}),n})()}}]);